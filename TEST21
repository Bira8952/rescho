-- Minimalistic GUI Inspired by Image

-- Initialize the library
local library = {}

-- Services
local UserInputService = game:GetService("UserInputService")

-- Default styles
local styles = {
    backgroundColor = Color3.fromRGB(30, 30, 30),
    borderColor = Color3.fromRGB(40, 40, 40),
    textColor = Color3.fromRGB(255, 255, 255),
    activeColor = Color3.fromRGB(70, 130, 180), -- Dodger Blue for checkmark
    inactiveColor = Color3.fromRGB(60, 60, 60),
    buttonColor = Color3.fromRGB(255, 0, 0), -- Red button
    font = Enum.Font.SourceSansBold,
}

-- Function to create new instances
function library:Create(class, properties)
    local instance = Instance.new(class)
    for prop, value in pairs(properties) do
        instance[prop] = value
    end
    return instance
end

-- Function to create the main GUI window
function library:CreateWindow()
    local screenGui = library:Create("ScreenGui", {
        Name = "MinimalisticGUI",
        Parent = game:GetService("CoreGui"),
        ResetOnSpawn = false,
    })

    local mainFrame = library:Create("Frame", {
        Parent = screenGui,
        BackgroundColor3 = styles.backgroundColor,
        BorderSizePixel = 0,
        Position = UDim2.new(0.5, -150, 0.5, -150),
        AnchorPoint = Vector2.new(0.5, 0.5),
        Size = UDim2.new(0, 300, 0, 350),
    })
    local corner = Instance.new("UICorner", mainFrame)
    corner.CornerRadius = UDim.new(0, 10)

    -- Vertical Layout for content
    local layout = library:Create("UIListLayout", {
        Parent = mainFrame,
        SortOrder = Enum.SortOrder.LayoutOrder,
        Padding = UDim.new(0, 8),
    })
    local padding = library:Create("UIPadding", {
        Parent = mainFrame,
        PaddingLeft = UDim.new(0, 10),
        PaddingRight = UDim.new(0, 10),
        PaddingTop = UDim.new(0, 10),
        PaddingBottom = UDim.new(0, 10),
    })

    -- Create UI elements based on your example

    -- Checkbox element
    local checkboxFrame = library:Create("Frame", {
        Parent = mainFrame,
        BackgroundColor3 = styles.borderColor,
        Size = UDim2.new(1, 0, 0, 50),
        BorderSizePixel = 0,
    })
    local checkboxCorner = Instance.new("UICorner", checkboxFrame)
    checkboxCorner.CornerRadius = UDim.new(0, 8)

    local checkbox = library:Create("TextButton", {
        Parent = checkboxFrame,
        BackgroundColor3 = styles.activeColor,
        Size = UDim2.new(0, 30, 0, 30),
        Position = UDim2.new(1, -40, 0.5, -15),
        Text = "âœ“",
        TextColor3 = Color3.fromRGB(255, 255, 255),
        Font = styles.font,
        TextSize = 18,
        AnchorPoint = Vector2.new(0.5, 0.5),
    })
    local checkboxCorner = Instance.new("UICorner", checkbox)
    checkboxCorner.CornerRadius = UDim.new(0, 6)

    checkbox.MouseButton1Click:Connect(function()
        checkbox.BackgroundColor3 = checkbox.BackgroundColor3 == styles.inactiveColor and styles.activeColor or styles.inactiveColor
    end)

    -- Red Button element
    local buttonFrame = library:Create("Frame", {
        Parent = mainFrame,
        BackgroundColor3 = styles.borderColor,
        Size = UDim2.new(1, 0, 0, 50),
        BorderSizePixel = 0,
    })
    local buttonCorner = Instance.new("UICorner", buttonFrame)
    buttonCorner.CornerRadius = UDim.new(0, 8)

    local redButton = library:Create("TextButton", {
        Parent = buttonFrame,
        BackgroundColor3 = styles.buttonColor,
        Size = UDim2.new(0, 30, 0, 30),
        Position = UDim2.new(1, -40, 0.5, -15),
        Text = "",
        AnchorPoint = Vector2.new(0.5, 0.5),
    })
    local redButtonCorner = Instance.new("UICorner", redButton)
    redButtonCorner.CornerRadius = UDim.new(0, 6)

    -- Gray Button element (for inactive state)
    local grayButtonFrame = library:Create("Frame", {
        Parent = mainFrame,
        BackgroundColor3 = styles.borderColor,
        Size = UDim2.new(1, 0, 0, 50),
        BorderSizePixel = 0,
    })
    local grayButtonCorner = Instance.new("UICorner", grayButtonFrame)
    grayButtonCorner.CornerRadius = UDim.new(0, 8)

    local grayButton = library:Create("TextButton", {
        Parent = grayButtonFrame,
        BackgroundColor3 = styles.inactiveColor,
        Size = UDim2.new(0, 30, 0, 30),
        Position = UDim2.new(1, -40, 0.5, -15),
        Text = "",
        AnchorPoint = Vector2.new(0.5, 0.5),
    })
    local grayButtonCorner = Instance.new("UICorner", grayButton)
    grayButtonCorner.CornerRadius = UDim.new(0, 6)

    -- Key Bind Display
    local keyBindFrame = library:Create("Frame", {
        Parent = mainFrame,
        BackgroundColor3 = styles.borderColor,
        Size = UDim2.new(1, 0, 0, 50),
        BorderSizePixel = 0,
    })
    local keyBindCorner = Instance.new("UICorner", keyBindFrame)
    keyBindCorner.CornerRadius = UDim.new(0, 8)

    local keyBindButton = library:Create("TextButton", {
        Parent = keyBindFrame,
        BackgroundColor3 = styles.inactiveColor,
        Size = UDim2.new(0, 30, 0, 30),
        Position = UDim2.new(1, -40, 0.5, -15),
        Text = "E",
        TextColor3 = Color3.fromRGB(255, 255, 255),
        Font = styles.font,
        TextSize = 18,
        AnchorPoint = Vector2.new(0.5, 0.5),
    })
    local keyBindCorner = Instance.new("UICorner", keyBindButton)
    keyBindCorner.CornerRadius = UDim.new(0, 6)

    return screenGui
end

return library
